<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Linux on lamaper</title>
    <link>http://localhost:1313/tags/linux/</link>
    <description>Recent content in Linux on lamaper</description>
    <generator>Hugo</generator>
    <language>zh-CN</language>
    <lastBuildDate>Thu, 05 Oct 2023 14:06:00 +0800</lastBuildDate>
    <atom:link href="http://localhost:1313/tags/linux/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Quark-n（夸克开发板）学习笔记</title>
      <link>http://localhost:1313/post/programing/quark/quark-note/</link>
      <pubDate>Thu, 05 Oct 2023 14:06:00 +0800</pubDate>
      <guid>http://localhost:1313/post/programing/quark/quark-note/</guid>
      <description>&lt;p&gt;author：lamaper&lt;/p&gt;&#xA;&lt;h2 id=&#34;一准备工序&#34;&gt;一、准备工序&lt;/h2&gt;&#xA;&lt;p&gt;首先需要了解夸克（Quark）的各种属性，这是夸克开发板的wiki：&lt;a href=&#34;https://wiki.seeedstudio.com/cn/Quantum-Mini-Linux-Development-Kit/&#34;&gt;“夸克（Quark）”迷你开发者套件 | Seeed Studio Wiki&lt;/a&gt;。&lt;/p&gt;&#xA;&lt;p&gt;夸克使用全志3芯片，发热很高，需要加装散热片或风扇。&lt;/p&gt;&#xA;&lt;p&gt;夸克使用USB Type-C进行供电和数据传输，可以使用虚拟终端软件来连接开发板，推荐的连接软件有&lt;em&gt;MobaXtrem&lt;/em&gt;和&lt;em&gt;XShell&lt;/em&gt;，&lt;a href=&#34;https://mobaxterm.mobatek.net/download-home-edition.html&#34;&gt;MobaXterm个人版下载地址 (mobatek.net)&lt;/a&gt;，&lt;a href=&#34;https://www.xshell.com/zh/xshell/&#34;&gt;XSHELL 下载地址&lt;/a&gt;。&lt;/p&gt;&#xA;&lt;p&gt;需要注意的是在使用Type-C连接开发板时，一定要下载对应的驱动，否则无法正常连接，出现的报错为：”未能成功安装驱动设备和程序“&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;D:%5CTyporaImages%5C20230910233342.jpg&#34; alt=&#34;20230910233342&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;观察到报错信息为”CP2102N USB to UART Bridge Controller“驱动未安装，所以我们下载相应的驱动&lt;a href=&#34;https://www.drvsky.com/driver/CP2102.htm&#34;&gt;CP2102 USB to UART Bridge Controller 驱动下载 - 驱动天空 (drvsky.com)&lt;/a&gt;，安装成功后即可正常连接。&lt;/p&gt;&#xA;&lt;p&gt;接下来我们通过MobaXterm连接开发板，在主界面找到Session；&lt;/p&gt;&#xA;&lt;p&gt;然后选择Serial，找到对应的串口连接，调整数据传输速度Speed到适应的数值，点击OK即可正常连接。&lt;/p&gt;&#xA;&lt;p&gt;推荐观看&lt;a href=&#34;https://www.bilibili.com/video/BV1144y1E7wX/?spm_id_from=333.788&amp;amp;vd_source=dfff592efb4ad4e2eb9d4bfa3fde8b62&#34;&gt;【教你玩】稚晖君的夸克的EMMC、扩容、WIFI、GPIO_哔哩哔哩_bilibili&lt;/a&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;二基础设置&#34;&gt;二、基础设置&lt;/h2&gt;&#xA;&lt;h3 id=&#34;1安装系统&#34;&gt;1、安装系统&lt;/h3&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;与树莓派一样，Quark-N可以通过SD卡上面烧录的镜像启动系统，但是也可以通过SOM上搭载的eMMC启动系统。启动顺序是这样的：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;当检测到SD卡插入且包含可启动的系统时，会进入SD卡系统&lt;/li&gt;&#xA;&lt;li&gt;否则如果eMMC中有可启动的系统的话，就会进入eMMC的系统&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;另外值得注意的是，不论是从SD卡启动还是从eMMC启动，当前运行系统所在的储存设备名都是&lt;code&gt;/dev/mmcblk0&lt;/code&gt;，操作相关文件的时候不要弄错了。&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;比较合理的开发模式是：&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;使用Atom-N开发套件验证您的项目，运行在SD卡中的镜像系统&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;验证完成项目之后通过Atom-N底板将SD卡中调试好的系统通过&lt;code&gt;dd命令&lt;/code&gt;等方式拷贝到eMMC&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;设计自己的底板（无需添加SD卡），插上调试好的Quark-N顺利部署系统&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;p&gt;我们可以先烧录镜像到TF卡上，然后拷贝到emmc中，进行首次亮机。&lt;/p&gt;&#xA;&lt;p&gt;首先下载最新系统镜像&lt;a href=&#34;https://files.seeedstudio.com/wiki/Quantum-Mini-Linux-Dev-Kit/quark-n-21-1-11.zip&#34;&gt;quark-n-21-1-11&lt;/a&gt;，然后使用&lt;a href=&#34;https://etcher.balena.io/&#34;&gt;balenaEtcher - Flash OS images to SD cards &amp;amp; USB drives&lt;/a&gt;工具将镜像烧录到TF卡中，紧接着插入TF到开发板卡槽中，启动开发板。&lt;/p&gt;&#xA;&lt;p&gt;进入系统后首先转移系统到emmc上，在此之前，先通过&lt;code&gt;sudo fdisk -i&lt;/code&gt;获得磁盘参数，然后运行以下命令&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo dd &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;/dev/mmcblk0 of&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;/dev/mmcblk1 bs&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;512&lt;/span&gt; count&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;EMMC的Block数+1&amp;#34;&lt;/span&gt; &amp;amp;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;为了观察复制进度，运行以下命令：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo watch -n &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt; pkill -USR1 ^dd$&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;等待复制结束后，emmc中存在一个新的系统。此时拔掉TF卡，重新启动开发板，进入到emmc系统中。&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
